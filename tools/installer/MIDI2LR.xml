<project>
    <shortName>MIDI2LR</shortName>
    <fullName>MIDI2LR</fullName>
    <version>6.2.1.0</version>
    <installerFilename>${product_shortname}-${product_version}-${debuglabel}${platform_name}-installer.${platform_exec_suffix}</installerFilename>
    <readmeFile>data/translations/ReadMe.txt</readmeFile>
    <licenseFile>../../LICENSE.txt</licenseFile>
    <htmlLicenseFile>data/LICENSE.html</htmlLicenseFile>
    <logoImage>data/MIDI2LR48.png</logoImage>
    <splashImage>../../data/application/MIDI2LR.png</splashImage>
    <defaultLanguage>auto</defaultLanguage>
    <allowLanguageSelection>1</allowLanguageSelection>
    <componentList>
        <component>
            <name>default</name>
            <description>Default Component</description>
            <canBeEdited>1</canBeEdited>
            <selected>1</selected>
            <show>1</show>
            <folderList>
                <folder>
                    <description>Program Files All</description>
                    <destination>${installdir}/MIDI2LR.lrplugin</destination>
                    <name>programfiles</name>
                    <platforms>all</platforms>
                    <distributionFileList>
                        <distributionFile>
                            <origin>../../LICENSE.txt</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../src/plugin/About.lua</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../src/plugin/ActionSeries.lua</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../src/plugin/Build.lua</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../src/plugin/Client.lua</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../src/plugin/ClientUtilities.lua</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../src/plugin/Database.lua</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../src/plugin/DebugInfo.lua</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../src/plugin/Donate.lua</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../src/plugin/FileLoadPref.lua</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../src/plugin/FileSavePref.lua</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../src/plugin/Filters.lua</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../src/plugin/Info.lua</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../src/plugin/Init.lua</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../src/plugin/Latest.lua</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../src/plugin/Keys.lua</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../src/plugin/Keywords.lua</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../src/plugin/KeywordsDialog.lua</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../src/plugin/KeyShortcuts.lua</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../src/plugin/LaunchServer.lua</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../src/plugin/Limits.lua</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../src/plugin/LocalPresets.lua</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../src/plugin/LogSave.lua</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../src/plugin/Mask.lua</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../src/plugin/OnlineHelp.lua</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../src/plugin/Options.lua</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../src/plugin/OptionsUtilities.lua</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../src/plugin/Preferences.lua</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../src/plugin/PrefReset.lua</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../src/plugin/Presets.lua</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../src/plugin/PresetsDialog.lua</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../src/plugin/Profiles.lua</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../src/plugin/ProfileTypes.lua</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../external/serpent/serpent.lua</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../src/plugin/ShutDownPlugin.lua</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../src/plugin/StopServer.lua</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../src/plugin/Support.lua</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../data/application/fonts/OFL.txt</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../data/plugin/TranslatedStrings_de.txt</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../data/plugin/TranslatedStrings_en.txt</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../data/plugin/TranslatedStrings_es.txt</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../data/plugin/TranslatedStrings_fr.txt</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../data/plugin/TranslatedStrings_it.txt</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../data/plugin/TranslatedStrings_hi.txt</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../data/plugin/TranslatedStrings_ja.txt</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../data/plugin/TranslatedStrings_ko.txt</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../data/plugin/TranslatedStrings_nb.txt</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../data/plugin/TranslatedStrings_nl.txt</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../data/plugin/TranslatedStrings_pt.txt</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../data/plugin/TranslatedStrings_pl.txt</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../data/plugin/TranslatedStrings_ru.txt</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../data/plugin/TranslatedStrings_sv.txt</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../data/plugin/TranslatedStrings_th.txt</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../data/plugin/TranslatedStrings_zh_cn.txt</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../data/plugin/TranslatedStrings_zh_tw.txt</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../src/plugin/Utilities.lua</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../src/plugin/Virtual.lua</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../data/application/fonts/NotoSans-Regular-MIDI2LR.ttf</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../data/application/fonts/NotoSans-Bold-MIDI2LR.ttf</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../data/application/fonts/NotoSansJP-Regular.otf</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../data/application/fonts/NotoSansKR-Regular.otf</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../data/application/fonts/NotoSansSC-Regular.otf</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../data/application/fonts/NotoSansTC-Regular.otf</origin>
                        </distributionFile>
                    </distributionFileList>
                </folder>
                <folder>
                    <description>Program Files Windows</description>
                    <destination>${installdir}/MIDI2LR.lrplugin</destination>
                    <name>programfileswindows</name>
                    <platforms>windows</platforms>
                    <distributionFileList>
                        <distributionFile>
                            <origin>${exe}/MIDI2LR.exe</origin>
                        </distributionFile>
                    </distributionFileList>
                </folder>
                <folder>
                    <description>Windows Debug Accessories</description>
                    <destination>${installdir}/MIDI2LR.lrplugin</destination>
                    <name>windebug</name>
                    <platforms>windows</platforms>
                    <distributionFileList>
                        <distributionFile>
                            <origin>../windows_dump/EnableUserDumps.reg</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../windows_dump/EnableUserDumps.txt</origin>
                        </distributionFile>
                    </distributionFileList>
                    <ruleList>
                        <isTrue>
                            <value>${debug}</value>
                        </isTrue>
                    </ruleList>
                </folder>
                <folder>
                    <description>Program Files MacOS</description>
                    <destination>${installdir}/MIDI2LR.lrplugin</destination>
                    <name>programfilesMacOS</name>
                    <platforms>osx</platforms>
                    <distributionFileList>
                        <distributionDirectory>
                            <origin>${app}/MIDI2LR.app</origin>
                        </distributionDirectory>
                    </distributionFileList>
                </folder>
                <folder>
                    <description>Program Settings Windows</description>
                    <destination>${env(APPDATA)}/MIDI2LR/</destination>
                    <name>Settings</name>
                    <platforms>windows</platforms>
                    <distributionFileList>
                        <distributionFile>
                            <origin>../../data/plugin/MenuTrans.xml</origin>
                        </distributionFile>
                    </distributionFileList>
                    <ruleList>
                        <fileExists>
                            <negate>1</negate>
                            <path>${env(APPDATA)}/MIDI2LR/MenuTrans.xml</path>
                        </fileExists>
                    </ruleList>
                </folder>
                <folder>
                    <description>Program Settings MacOS</description>
                    <destination>${user_home_directory}/Library/Application Support/MIDI2LR/</destination>
                    <name>settingsMacOS</name>
                    <platforms>osx</platforms>
                    <distributionFileList>
                        <distributionFile>
                            <origin>../../data/plugin/MenuTrans.xml</origin>
                        </distributionFile>
                    </distributionFileList>
                    <ruleList>
                        <fileExists>
                            <negate>1</negate>
                            <path>${user_home_directory}/Library/Application Support/MIDI2LR/MenuTrans.xml</path>
                        </fileExists>
                    </ruleList>
                </folder>
            </folderList>
        </component>
    </componentList>
    <preBuildActionList>
        <if>
            <actionList>
                <setInstallerVariable>
                    <name>exe</name>
                    <value>../../build/Windows/x64/Release/App</value>
                </setInstallerVariable>
                <setInstallerVariable>
                    <name>app</name>
                    <value>../../build/MacOS/build/Notarized</value>
                </setInstallerVariable>
                <setInstallerVariable>
                    <name>debuglabel</name>
                    <value></value>
                </setInstallerVariable>
            </actionList>
            <conditionRuleList>
                <isTrue>
                    <negate>1</negate>
                    <value>${debug}</value>
                </isTrue>
            </conditionRuleList>
            <elseActionList>
                <setInstallerVariable>
                    <name>exe</name>
                    <value>../../build/Windows/x64/Debug/App</value>
                </setInstallerVariable>
                <setInstallerVariable>
                    <name>app</name>
                    <value>../../build/MacOS/build/Debug</value>
                </setInstallerVariable>
                <setInstallerVariable>
                    <name>debuglabel</name>
                    <value>for-debugging-only-</value>
                </setInstallerVariable>
            </elseActionList>
        </if>
    </preBuildActionList>
    <initializationActionList>
        <throwError>
            <text>${msg(midi.install.mac)}</text>
            <ruleList>
                <platformTest>
                    <type>osx</type>
                </platformTest>
                <compareVersions>
                    <logic>less</logic>
                    <version1>${osx_major_version}</version1>
                    <version2>13</version2>
                </compareVersions>
            </ruleList>
        </throwError>
        <throwError>
            <text>${msg(midi.install.win)}</text>
            <ruleList>
                <platformTest>
                    <type>windows</type>
                </platformTest>
                <compareValues>
                    <logic>less</logic>
                    <value1>${windows_os_version_number}</value1>
                    <value2>10</value2>
                </compareValues>
            </ruleList>
        </throwError>
    </initializationActionList>
    <preInstallationActionList>
        <setInstallerVariable>
            <name>installdir</name>
            <value>${user_home_directory}/Library/Application Support/Adobe/Lightroom/Modules</value>
            <ruleList>
                <platformTest>
                    <type>osx</type>
                </platformTest>
            </ruleList>
        </setInstallerVariable>
        <setInstallerVariable>
            <name>project.installationType</name>
            <value>upgrade</value>
            <ruleList>
                <registryTest>
                    <key>HKEY_LOCAL_MACHINE\SOFTWARE\${project.vendor}\${project.fullName}</key>
                    <logic>exists</logic>
                    <name>Location</name>
                </registryTest>
            </ruleList>
        </setInstallerVariable>
        <registryGet>
            <key>HKEY_LOCAL_MACHINE\SOFTWARE\${project.vendor}\${project.fullName}</key>
            <name>Location</name>
            <variable>installdir</variable>
            <ruleList>
                <platformTest>
                    <type>windows</type>
                </platformTest>
                <registryTest>
                    <key>HKEY_LOCAL_MACHINE\SOFTWARE\${project.vendor}\${project.fullName}</key>
                    <logic>exists</logic>
                    <name>Location</name>
                </registryTest>
            </ruleList>
        </registryGet>
        <showWarning>
            <ruleEvaluationLogic>or</ruleEvaluationLogic>
            <text>${msg(midi.ports)}</text>
            <ruleList>
                <portTest>
                    <condition>cannot_bind</condition>
                    <port>58763</port>
                </portTest>
                <portTest>
                    <condition>cannot_bind</condition>
                    <port>58764</port>
                </portTest>
            </ruleList>
        </showWarning>
    </preInstallationActionList>
    <postInstallationActionList>
        <if>
            <actionList>
                <createDirectory>
                    <path>${env(APPDATA)}/MIDI2LR/</path>
                </createDirectory>
            </actionList>
            <conditionRuleList>
                <platformTest>
                    <type>windows</type>
                </platformTest>
            </conditionRuleList>
            <elseActionList>
                <createDirectory>
                    <path>${user_home_directory}/Library/Application Support/MIDI2LR/</path>
                </createDirectory>
                <createDirectory>
                    <path>${user_home_directory}/Library/Logs/MIDI2LR/</path>
                </createDirectory>
            </elseActionList>
        </if>
        <deleteFile>
            <path>${project.rollbackBackupDirectory}</path>
        </deleteFile>
        <deleteFile>
            <path>${installdir}/MIDI2LR.lrplugin/CustomProfiles.lua</path>
        </deleteFile>
        <deleteFile>
            <path>${installdir}/MIDI2LR.lrplugin/NotoSans-Regular-Plus-Thai.ttf</path>
        </deleteFile>
        <deleteFile>
            <path>${installdir}/MIDI2LR.lrplugin/NotoSans-Bold-Plus-Thai.ttf</path>
        </deleteFile>
    </postInstallationActionList>
    <allowedLanguages>en pt_BR nl fr de it ja ko pt ru zh_CN es sv th zh_TW no pl</allowedLanguages>
    <compressPackedFiles>1</compressPackedFiles>
    <compressionAlgorithm>lzham-ultra</compressionAlgorithm>
    <createOsxBundleDmg>1</createOsxBundleDmg>
    <createUninstaller>0</createUninstaller>
    <enableRollback>1</enableRollback>
    <enableTimestamp>1</enableTimestamp>
    <height>400</height>
    <licenseFileEncoding>utf-8</licenseFileEncoding>
    <osxApplicationBundleIcon>../../build/MacOS/Icon.icns</osxApplicationBundleIcon>
    <osxSigningPkcs12File>../osx-signing.p12</osxSigningPkcs12File>
    <osxSigningPkcs12Password>${env(OSX_SIGNING_PASSWORD)}</osxSigningPkcs12Password>
    <osxUninstallerApplicationBundleIcon>../../build/MacOS/Icon.icns</osxUninstallerApplicationBundleIcon>
    <outputDirectory>../..</outputDirectory>
    <productDisplayIcon>../../build/Windows/icon.ico</productDisplayIcon>
    <productUrlHelpLink>https://github.com/rsjaffe/MIDI2LR/discussions</productUrlHelpLink>
    <productUrlInfoAbout>https://rsjaffe.github.io/MIDI2LR/</productUrlInfoAbout>
    <readmeFileEncoding>utf-8</readmeFileEncoding>
    <replaceLockedFilesOnReboot>1</replaceLockedFilesOnReboot>
    <saveRelativePaths>1</saveRelativePaths>
    <singleInstanceCheck>1</singleInstanceCheck>
    <uninstallerDirectory>${installdir}/MIDI2LR.lrplugin</uninstallerDirectory>
    <uninstallerName>uninstallMIDI2LR</uninstallerName>
    <vendor>MIDI2LR</vendor>
    <width>600</width>
    <windowsExecutableIcon>../../build/Windows/icon.ico</windowsExecutableIcon>
    <windowsUninstallerExecutableIcon>../../build/Windows/icon.ico</windowsUninstallerExecutableIcon>
    <customLanguageFileList>
        <language>
            <code>en</code>
            <encoding>utf-8</encoding>
            <file>data/translations/custom-en.lng</file>
        </language>
        <language>
            <code>de</code>
            <encoding>utf-8</encoding>
            <file>data/translations/custom-de.lng</file>
        </language>
        <language>
            <code>es</code>
            <encoding>utf-8</encoding>
            <file>data/translations/custom-es.lng</file>
        </language>
        <language>
            <code>fr</code>
            <encoding>utf-8</encoding>
            <file>data/translations/custom-fr.lng</file>
        </language>
        <language>
            <code>it</code>
            <encoding>utf-8</encoding>
            <file>data/translations/custom-it.lng</file>
        </language>
        <language>
            <code>ja</code>
            <encoding>utf-8</encoding>
            <file>data/translations/custom-ja.lng</file>
        </language>
        <language>
            <code>ko</code>
            <encoding>utf-8</encoding>
            <file>data/translations/custom-ko.lng</file>
        </language>
        <language>
            <code>nl</code>
            <encoding>utf-8</encoding>
            <file>data/translations/custom-nl.lng</file>
        </language>
        <language>
            <code>pt</code>
            <encoding>utf-8</encoding>
            <file>data/translations/custom-pt.lng</file>
        </language>
        <language>
            <code>pt_BR</code>
            <encoding>utf-8</encoding>
            <file>data/translations/custom-pt_BR.lng</file>
        </language>
        <language>
            <code>ru</code>
            <encoding>utf-8</encoding>
            <file>data/translations/custom-ru.lng</file>
        </language>
        <language>
            <code>sv</code>
            <encoding>utf-8</encoding>
            <file>data/translations/custom-sv.lng</file>
        </language>
        <language>
            <code>th</code>
            <encoding>utf-8</encoding>
            <file>data/translations/custom-th.lng</file>
        </language>
        <language>
            <code>zh_CN</code>
            <encoding>utf-8</encoding>
            <file>data/translations/custom-zh_CN.lng</file>
        </language>
        <language>
            <code>zh_TW</code>
            <encoding>utf-8</encoding>
            <file>data/translations/custom-zh_TW.lng</file>
        </language>
        <language>
            <code>no</code>
            <encoding>utf-8</encoding>
            <file>data/translations/custom-nb.lng</file>
        </language>
        <language>
            <code>pl</code>
            <encoding>utf-8</encoding>
            <file>data/translations/custom-pl.lng</file>
        </language>
    </customLanguageFileList>
    <finalPageActionList>
        <launchBrowser>
            <explanation>${msg(midi.instructions.exp)}</explanation>
            <progressText>${msg(midi.instructions)}</progressText>
            <url>https://github.com/rsjaffe/MIDI2LR/wiki</url>
        </launchBrowser>
        <launchBrowser>
            <explanation>${msg(midi.donate.exp)}</explanation>
            <progressText>${msg(midi.donate)}</progressText>
            <url>https://paypal.me/MIDI2LR</url>
        </launchBrowser>
    </finalPageActionList>
    <parameterList>
        <directoryParameter>
            <name>installdir</name>
            <description>Installer.Parameter.installdir.description</description>
            <explanation>Installer.Parameter.installdir.explanation</explanation>
            <value></value>
            <default>${windows_folder_appdata}/Adobe/Lightroom/Modules</default>
            <allowEmptyValue>0</allowEmptyValue>
            <cliOptionName>prefix</cliOptionName>
            <mustBeWritable>1</mustBeWritable>
            <mustExist>0</mustExist>
            <width>67</width>
        </directoryParameter>
    </parameterList>
    <readmeFileList>
        <readmeFile>
            <code>en</code>
            <encoding>utf-8</encoding>
            <file>data/translations/ReadMe.txt</file>
        </readmeFile>
        <readmeFile>
            <code>de</code>
            <encoding>utf-8</encoding>
            <file>data/translations/ReadMe-de.txt</file>
        </readmeFile>
        <readmeFile>
            <code>es</code>
            <encoding>utf-8</encoding>
            <file>data/translations/ReadMe-es.txt</file>
        </readmeFile>
        <readmeFile>
            <code>fr</code>
            <encoding>utf-8</encoding>
            <file>data/translations/ReadMe-fr.txt</file>
        </readmeFile>
        <readmeFile>
            <code>it</code>
            <encoding>utf-8</encoding>
            <file>data/translations/ReadMe-it.txt</file>
        </readmeFile>
        <readmeFile>
            <code>ja</code>
            <encoding>utf-8</encoding>
            <file>data/translations/ReadMe-ja.txt</file>
        </readmeFile>
        <readmeFile>
            <code>ko</code>
            <encoding>utf-8</encoding>
            <file>data/translations/ReadMe-ko.txt</file>
        </readmeFile>
        <readmeFile>
            <code>nl</code>
            <encoding>utf-8</encoding>
            <file>data/translations/ReadMe-nl.txt</file>
        </readmeFile>
        <readmeFile>
            <code>pt</code>
            <encoding>utf-8</encoding>
            <file>data/translations/ReadMe-pt.txt</file>
        </readmeFile>
        <readmeFile>
            <code>pt_BR</code>
            <encoding>utf-8</encoding>
            <file>data/translations/ReadMe-pt_BR.txt</file>
        </readmeFile>
        <readmeFile>
            <code>ru</code>
            <encoding>utf-8</encoding>
            <file>data/translations/ReadMe-ru.txt</file>
        </readmeFile>
        <readmeFile>
            <code>sv</code>
            <encoding>utf-8</encoding>
            <file>data/translations/ReadMe-sv.txt</file>
        </readmeFile>
        <readmeFile>
            <code>th</code>
            <encoding>utf-8</encoding>
            <file>data/translations/ReadMe-th.txt</file>
        </readmeFile>
        <readmeFile>
            <code>zh_CN</code>
            <encoding>utf-8</encoding>
            <file>data/translations/ReadMe-zh_CN.txt</file>
        </readmeFile>
        <readmeFile>
            <code>zh_TW</code>
            <encoding>utf-8</encoding>
            <file>data/translations/ReadMe-zh_TW.txt</file>
        </readmeFile>
        <readmeFile>
            <code>no</code>
            <encoding>utf-8</encoding>
            <file>data/translations/ReadMe-nb.txt</file>
        </readmeFile>
        <readmeFile>
            <code>pl</code>
            <encoding>utf-8</encoding>
            <file>data/translations/ReadMe-pl.txt</file>
        </readmeFile>
    </readmeFileList>
</project>

